<section class="orders-show">

  <header class="page-header">
    <h1>Order #
      <%= @order.id %>
    </h1>
  </header>

  <div class="order-summary jumbotron">
    <h4>Thank you for your order!</h4>
    <table class='table table-bordered'>
      <thead>
        <tr>
          <th>Product</th>
          <th>Details</th>
          <th>Quantities</th>
          <th>Unit Price</th>
        </tr>
      </thead>
      <tbody>
        <% @grand_total = 0 %>
        <!-- join => `order.line_items` returns a list of line_items with the corresponding order id -->
        <% @order.line_items.each do |ordered_product| %>
        <!-- use partial called _ordered_product.html.erb and pass ordered_product object to it -->
          <%= render partial: 'ordered_product', object: ordered_product  %>
        <% end %>
      </tbody>
      <tfoot>
        <tr>
          <th colspan="3">
            TOTAL:
          </th>
          <th>
            <%= @grand_total %>
          </th>
        </tr>
      </tfoot>
    </table>
  </div>

  <%= link_to "Continue Shopping", root_path, class: 'btn btn-lg btn-primary' %>

</section>